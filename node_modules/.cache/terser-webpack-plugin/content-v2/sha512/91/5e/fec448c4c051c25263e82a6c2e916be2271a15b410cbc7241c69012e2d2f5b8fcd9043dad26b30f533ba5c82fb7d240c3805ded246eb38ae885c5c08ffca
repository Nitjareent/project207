{"map":{"version":3,"sources":["static/js/main.66c6996b.chunk.js"],"names":["this","push","17","module","exports","__webpack_require__","22","23","33","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","defineProperty","classCallCheck","createClass","possibleConstructorReturn","getPrototypeOf","assertThisInitialized","inherits","index_cjs","index_cjs_default","firebase_config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","a","apps","length","initializeApp","firebase","components_Navbar","props","createElement","className","role","aria-label","href","id","username","onClick","logout","components_Message","date","data","timestamp","toDate","src","image","alt","toString","text","delete","value","components_Comment","name","placeholder","defaultValue","onChange","post","components_MessageList","result","messages","forEach","element","key","components_Login","_React$Component","Login","_this$state2","_this","Object","call","e","firestore","collection","doc","state","currentUser","email","add","comment","Date","target","_e$target","setState","onSubmit","preventDefault","_this$state","password","auth","signInWithEmailAndPassword","then","response","user","catch","error","message","bind","_this2","onAuthStateChanged","onSnapshot","item","storage","ref","getDownloadURL","_this3","signOut","_this$state3","type","Component","src_App","Boolean","window","location","hostname","match","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","console"],"mappings":"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"},"code":"(this.webpackJsonplec7=this.webpackJsonplec7||[]).push([[0],{17:function(e,a,t){e.exports=t(33)},22:function(e,a,t){},23:function(e,a,t){},33:function(e,a,t){\"use strict\";t.r(a);var n=t(0),s=t.n(n),l=t(11),c=t.n(l),r=(t(22),t(23),t(2)),i=t(12),m=t(13),o=t(15),u=t(14),d=t(4),g=t(16),v=(t(6),t(5)),E=t.n(v),h=(t(27),t(29),t(34),{apiKey:\"AIzaSyCUB6sSpAoUYTf5VrCGZn3pYwBctzKxvsw\",authDomain:\"lab7-4bc55.firebaseapp.com\",databaseURL:\"https://lab7-4bc55.firebaseio.com\",projectId:\"lab7-4bc55\",storageBucket:\"lab7-4bc55.appspot.com\",messagingSenderId:\"544709639552\",appId:\"1:544709639552:web:06d113a6fda884f9921565\",measurementId:\"G-CN7LY4HRFR\"});E.a.apps.length||E.a.initializeApp(h);var p=E.a;var b=function(e){return s.a.createElement(\"nav\",{className:\"navbar\",role:\"navigation\",\"aria-label\":\"main navigation\"},s.a.createElement(\"div\",{className:\"navbar-brand\"},s.a.createElement(\"a\",{className:\"navbar-item\",href:\"/\"},\"Firebase App\")),s.a.createElement(\"div\",{id:\"navbarBasicExample\",className:\"navbar-menu\"},s.a.createElement(\"div\",{className:\"navbar-start\"}),s.a.createElement(\"div\",{className:\"navbar-end\"},s.a.createElement(\"div\",{className:\"navbar-item\"},s.a.createElement(\"div\",{className:\"buttons\"},s.a.createElement(\"h3\",{className:\"navbar-item\"},e.username),s.a.createElement(\"button\",{className:\"button is-light\",onClick:e.logout},\"Logout\"))))))};var f=function(e){var a=e.data.timestamp.toDate();return s.a.createElement(\"article\",{className:\"media\"},s.a.createElement(\"figure\",{className:\"media-left\"},s.a.createElement(\"p\",{className:\"image is-64x64\"},s.a.createElement(\"img\",{src:e.image,alt:\"User's\"}))),s.a.createElement(\"div\",{className:\"media-content\"},s.a.createElement(\"div\",{className:\"content\"},s.a.createElement(\"p\",null,s.a.createElement(\"small\",null,a.toString()),s.a.createElement(\"br\",null),e.data.text))),s.a.createElement(\"div\",{className:\"media-right\"},s.a.createElement(\"button\",{className:\"delete\",onClick:e.delete,value:e.id})))};var N=function(e){return s.a.createElement(\"article\",{className:\"media\"},s.a.createElement(\"figure\",{className:\"media-left\"},s.a.createElement(\"p\",{className:\"image is-64x64\"},s.a.createElement(\"img\",{src:e.image,alt:\"user\"}))),s.a.createElement(\"div\",{className:\"media-content\"},s.a.createElement(\"div\",{className:\"field\"},s.a.createElement(\"p\",{className:\"control\"},s.a.createElement(\"textarea\",{className:\"textarea\",name:\"comment\",placeholder:\"Add a comment...\",defaultValue:\"\",onChange:e.onChange}))),s.a.createElement(\"nav\",{className:\"level-right\"},s.a.createElement(\"div\",{className:\"level-left\"},s.a.createElement(\"div\",{className:\"level-item\"},s.a.createElement(\"button\",{className:\"button is-info\",onClick:e.post},\"Submit\"))))))};var w=function(e){return s.a.createElement(\"section\",{className:\"section container\"},s.a.createElement(N,{image:e.image,onChange:e.onChange,post:e.post}),function(){var a=[];return e.messages.forEach((function(t){a.push(s.a.createElement(f,{image:e.image,key:t.id,id:t.id,data:t.data(),delete:e.delete}))})),a}())},C=function(e){function a(e){var t,n;return Object(i.a)(this,a),(n=Object(o.a)(this,Object(u.a)(a).call(this,e))).post=function(e){p.firestore().collection(\"users\").doc(n.state.currentUser.email).collection(\"messages\").add({text:n.state.comment,timestamp:new Date})},n.delete=function(e){p.firestore().collection(\"users\").doc(n.state.currentUser.email).collection(\"messages\").doc(e.target.value).delete()},n.onChange=function(e){var a=e.target,t=a.name,s=a.value;n.setState(Object(r.a)({},t,s))},n.onSubmit=function(e){e.preventDefault();var a=n.state,t=a.email,s=a.password;p.auth().signInWithEmailAndPassword(t,s).then((function(e){n.setState({currentUser:e.user})})).catch((function(e){n.setState({message:e.message})}))},n.state=(t={email:\"\",password:\"\",messages:\"\"},Object(r.a)(t,\"messages\",[]),Object(r.a)(t,\"currentUser\",null),Object(r.a)(t,\"image\",\"\"),Object(r.a)(t,\"comment\",\"\"),t),n.logout=n.logout.bind(Object(d.a)(n)),n}return Object(g.a)(a,e),Object(m.a)(a,[{key:\"componentDidMount\",value:function(){var e=this;p.auth().onAuthStateChanged((function(a){a&&(e.setState({currentUser:a}),p.firestore().collection(\"users\").doc(a.email).collection(\"messages\").onSnapshot((function(a){e.setState({messages:a})})),p.storage().ref(\"40510726_1885325624882038_6625989121489764352_n.jpg\").getDownloadURL().then((function(a){return e.setState({image:a})})))}))}},{key:\"logout\",value:function(){var e=this;p.auth().signOut().then((function(a){e.setState({currentUser:null})}))}},{key:\"render\",value:function(){var e=this.state,a=e.message,t=e.currentUser;return t?s.a.createElement(\"div\",null,s.a.createElement(b,{logout:this.logout,username:t.email}),s.a.createElement(w,{image:this.state.image,messages:this.state.messages,onChange:this.onChange,post:this.post,delete:this.delete})):s.a.createElement(\"section\",{className:\"section container\"},s.a.createElement(\"div\",{className:\"columns is-centered\"},s.a.createElement(\"div\",{className:\"column is-half\"},s.a.createElement(\"form\",{onSubmit:this.onSubmit},s.a.createElement(\"div\",{className:\"field\"},s.a.createElement(\"label\",{className:\"label\"},\"Email\"),s.a.createElement(\"div\",{className:\"control\"},s.a.createElement(\"input\",{className:\"input\",type:\"email\",name:\"email\",onChange:this.onChange}))),s.a.createElement(\"div\",{className:\"field\"},s.a.createElement(\"label\",{className:\"label\"},\"password\"),s.a.createElement(\"div\",{className:\"control\"},s.a.createElement(\"input\",{className:\"input\",type:\"password\",name:\"password\",onChange:this.onChange}))),a?s.a.createElement(\"p\",{className:\"help is-danger\"},a):null,s.a.createElement(\"div\",{className:\"field is-grouped\"},s.a.createElement(\"div\",{className:\"control\"},s.a.createElement(\"button\",{className:\"button is-link\"},\"Login\")))))))}}]),a}(s.a.Component);var S=function(){return s.a.createElement(\"div\",{className:\"App\"},s.a.createElement(C,null))};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(S,null),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);","extractedComments":[]}